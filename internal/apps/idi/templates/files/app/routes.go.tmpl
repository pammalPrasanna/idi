package rest

import (
	"net/http"

	"{{.ProjectName}}/internal/apps/{{.AppName}}/internal/application"
	"{{.ProjectName}}/internal/lib"

)

func RegisterRoutes(rootApp lib.IApp, app *application.{{ capitalize .AppName }}) {
	ctrlr := New{{ capitalize .AppName }}Controller(rootApp, app)
	mux := ctrlr.Mux()

	mux.HandlerFunc(http.MethodGet, "/api/v1/{{.AppName}}", ctrlr.find{{capitalize .AppName}}H)
	mux.HandlerFunc(http.MethodGet, "/api/v1/{{.AppName}}/:id", ctrlr.get{{capitalize .AppName}}H)
	mux.HandlerFunc(http.MethodPost, "/api/v1/{{.AppName}}", ctrlr.create{{capitalize .AppName}}H)
	mux.HandlerFunc(http.MethodPut, "/api/v1/{{.AppName}}", ctrlr.update{{capitalize .AppName}}H)
	mux.HandlerFunc(http.MethodDelete, "/api/v1/{{.AppName}}", ctrlr.delete{{capitalize .AppName}}H)
}
